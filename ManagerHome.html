<!DOCTYPE html>
<html lang="en">
<head>
  <title>PikaShift</title>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel='stylesheet' href='fullcalendar/fullcalendar.css' />

  <link rel="stylesheet" href="MainLayout.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="ManagerTab.js"></script>


  <script src='fullcalendar/lib/jquery.min.js'></script>
  <script src='fullcalendar/lib/moment.min.js'></script>
  <script src='fullcalendar/fullcalendar.js'></script>

    <script src="http://cdn.jsdelivr.net/qtip2/3.0.3/jquery.qtip.min.js"></script>
  <link rel='stylesheet' href="http://cdn.jsdelivr.net/qtip2/3.0.3/jquery.qtip.min.css"/>

  <script>

function scheduleColor(numAbsences) {
  if (numAbsences <= 1) {
    return "#C1ECFA"; // healthy
  } else if (numAbsences <= 3) {
    return "#87CEFA"; // minor
  } else if (numAbsences <= 5) {
    return "#1E90FF"; // major
  } else {
    return "#0000CD"; // fatal
  }
}
// Final initialization entry point: the Javascript code inside this block
// runs at the end of start-up when the page has finished loading.
$(document).ready(function()
{


  $('#all').fullCalendar({
      defaultView: 'agendaWeek',
      editable: true,
      //eventLimit: true, // allow "more" link when too many events
      header: {
        left: 'prev, next',
        center: 'title',
        right: 'agendaWeek, agendaDay'
      },
      height: 'auto',
      minTime: '9:00',
      maxTime: '21:00',
      allDaySlot: false,
      slotDuration: "1:00:00",
      displayEventTime: false,

      events: [ 
          {
              title  : '',
              start  : '2017-05-09T16:00:00',
              end    : '2017-05-09T17:00:00',
              color  : scheduleColor(2),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Vaporeon, Pichu, Zubat, Meowth  <br /> ----------- <br /> EXTRA SHIFT:  <br /> Eevee, Clefairy"
          },
          {
              title  : '',
              start  : '2017-05-09T17:00:00',
              end    : '2017-05-09T18:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Vaporeon, Pichu  <br /> ----------- <br /> EXTRA SHIFT:  <br /> Clefairy"
          },
          {
              title  : '',
              start  : '2017-05-10T13:00:00',
              end    : '2017-04-10T15:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Mewtwo, Mew <br /> ----------- <br /> EXTRA SHIFT:  <br /> Dratini"
          },
          {
              title  : '',
              start  : '2017-05-12T18:00:00',
              end    : '2017-05-12T20:00:00',
              color  : scheduleColor(6),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Pikachu, Vaporeon, Pichu, Pidgy, Mew, Mewtwo <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          },
          {
              title  : '',
              start  : '2017-05-11T14:00:00',
              end    : '2017-05-11T15:00:00',
              color  : scheduleColor(0),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Vaporeon <br /> ----------- <br /> EXTRA SHIFT:  <br /> Pikachu"
          }
      ],
    
    eventRender: function(event, element) {
            element.qtip({
                content: event.description,
                style: {
                    //background: 'black',
                    //color: '#FFFFFF'
                    classes: 'qtip-tipsy'
                },
                position: {
                    my: 'left bottom',
                    at: 'right center',
                    target: 'center'
                   // corner: {
                    //    target: 'center',
                     //   tooltip: 'bottomMiddle'
                    //}
                }
            });
        }
  });


  $('#cashiers').fullCalendar({
      defaultView: 'agendaWeek',
      editable: true,
      //eventLimit: true, // allow "more" link when too many events
      header: {
        left: 'prev, next',
        center: 'title',
        right: 'agendaWeek, agendaDay'
      },
      height: 'auto',
      minTime: '9:00',
      maxTime: '21:00',
      allDaySlot: false,
      slotDuration: "1:00:00",
      displayEventTime: false,

      events: [ // Vaporeon, Pikachu
          {
              title  : '',
              start  : '2017-05-09T16:00:00',
              end    : '2017-05-09T17:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Vaporeon  <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          },
          {
              title  : '',
              start  : '2017-05-09T17:00:00',
              end    : '2017-05-09T18:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Vaporeon  <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          },
          {
              title  : '',
              start  : '2017-05-12T18:00:00',
              end    : '2017-05-12T20:00:00',
              color  : scheduleColor(2),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Pikachu, Vaporeon  <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          },
          {
              title  : '',
              start  : '2017-05-11T14:00:00',
              end    : '2017-05-11T15:00:00',
              color  : scheduleColor(0),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Vaporeon <br /> ----------- <br /> EXTRA SHIFT:  <br /> Pikachu"
          }
      ],
    
    eventRender: function(event, element) {
            element.qtip({
                content: event.description,
                style: {
                    //background: 'black',
                    //color: '#FFFFFF'
                    classes: 'qtip-tipsy'
                },
                position: {
                    my: 'left bottom',
                    at: 'right center',
                    target: 'center'
                   // corner: {
                    //    target: 'center',
                     //   tooltip: 'bottomMiddle'
                    //}
                }
            });
        }
  });


  $('#chefs').fullCalendar({
      defaultView: 'agendaWeek',
      editable: true,
      //eventLimit: true, // allow "more" link when too many events
      header: {
        left: 'prev, next',
        center: 'title',
        right: 'agendaWeek, agendaDay'
      },
      height: 'auto',
      minTime: '9:00',
      maxTime: '21:00',
      allDaySlot: false,
      slotDuration: "1:00:00",
      displayEventTime: false,

      events: [ // Pichu, Zubat, Eevee, Clefairy
          {
              title  : '',
              start  : '2017-05-09T16:00:00',
              end    : '2017-05-09T17:00:00',
              color  : scheduleColor(0),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Pichu, Zubat  <br /> ----------- <br /> EXTRA SHIFT:  <br /> Eevee, Clefairy"
          },
          {
              title  : '',
              start  : '2017-05-09T17:00:00',
              end    : '2017-05-09T18:00:00',
              color  : scheduleColor(0),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Pichu  <br /> ----------- <br /> EXTRA SHIFT:  <br /> Clefairy"
          },
          {
              title  : '',
              start  : '2017-05-12T18:00:00',
              end    : '2017-05-12T20:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Pichu <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          }
      ],
    
    eventRender: function(event, element) {
            element.qtip({
                content: event.description,
                style: {
                    //background: 'black',
                    //color: '#FFFFFF'
                    classes: 'qtip-tipsy'
                },
                position: {
                    my: 'left bottom',
                    at: 'right center',
                    target: 'center'
                   // corner: {
                    //    target: 'center',
                     //   tooltip: 'bottomMiddle'
                    //}
                }
            });
        }
  });


  $('#waiters').fullCalendar({
      defaultView: 'agendaWeek',
      editable: true,
      //eventLimit: true, // allow "more" link when too many events
      header: {
        left: 'prev, next',
        center: 'title',
        right: 'agendaWeek, agendaDay'
      },
      height: 'auto',
      minTime: '9:00',
      maxTime: '21:00',
      allDaySlot: false,
      slotDuration: "1:00:00",
      displayEventTime: false,

      events: [ // Meowth, Mewtwo, Mew, Dratini, Pidgy
          {
              title  : '',
              start  : '2017-05-09T16:00:00',
              end    : '2017-05-09T17:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Meowth  <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          },
          {
              title  : '',
              start  : '2017-05-10T13:00:00',
              end    : '2017-04-10T15:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Mewtwo, Mew <br /> ----------- <br /> EXTRA SHIFT:  <br /> Dratini"
          },
          {
              title  : '',
              start  : '2017-05-12T18:00:00',
              end    : '2017-05-12T20:00:00',
              color  : scheduleColor(3),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Pidgy, Mew, Mewtwo <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          },
          {
              title  : '',
              start  : '2017-05-12T13:00:00',
              end    : '2017-05-12T14:00:00',
              color  : scheduleColor(1),
              startEditable : false,
              durationEditable : false,
              description: "ABSENT: <br /> Pikachu <br /> ----------- <br /> EXTRA SHIFT:  <br /> "
          }

      ],
    
    eventRender: function(event, element) {
            element.qtip({
                content: event.description,
                style: {
                    //background: 'black',
                    //color: '#FFFFFF'
                    classes: 'qtip-tipsy'
                },
                position: {
                    my: 'left bottom',
                    at: 'right center',
                    target: 'center'
                   // corner: {
                    //    target: 'center',
                     //   tooltip: 'bottomMiddle'
                    //}
                }
            });
        }
  });
});

$(document).on('click', '#all-tab', function(e) {
    setTimeout(function(){
      $('.fc-agendaWeek-button').click();
    }, 150) 
})

$(document).on('click', '#cashier-tab', function(e) {
    setTimeout(function(){
      $('.fc-agendaWeek-button').click();
    }, 150) 
})

$(document).on('click', '#chef-tab', function(e) {
    setTimeout(function(){
      $('.fc-agendaWeek-button').click();
    }, 150) 
})

$(document).on('click', '#waiter-tab', function(e) {
    setTimeout(function(){
      $('.fc-agendaWeek-button').click();
    }, 150) 
})

</script>
</head>


<body>

<!-- Navigation Bar --> 
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" style="color: #999999 !important;">PikaShift</a>
    </div>
    <ul class="nav navbar-nav">
      <li id = "all-tab" class="active"><a data-toggle="tab" href="#all">All Absences</a></li>
      <li id = "cashier-tab"><a data-toggle="tab" href="#cashiers"> Cashiers </a></li>
      <li id = "chef-tab"><a data-toggle="tab" href="#chefs"> Chefs </a></li>
      <li id = "waiter-tab"><a data-toggle="tab" href="#waiters"> Waiters </a></li>
    </ul>
    
    <ul class="nav navbar-nav navbar-right">
      <!-- <li><a href="#"><span class="glyphicon glyphicon-user"></span> Welcome, Moltres </a></li> -->
      <li class="dropdown">
        <a href="#" data-toggle="dropdown" class="dropdown-toggle"><span class="glyphicon glyphicon-user"></span> Welcome, Moltres</a>
        <ul class="dropdown-menu">
          <li><a href="Login.html">Logout</a></li>
        </ul>
      </li>   
    </ul>
  </div>
</nav>

<div class="container col-md-6 column"> <!--- Calender Code -->
  <div class="tab-content">
    <div id="all" class="tab-pane fade in active"></div>
    <div id="cashiers" class="tab-pane fade"> </div>
    <div id="chefs" class="tab-pane fade"> </div>
    <div id="waiters" class="tab-pane fade"> </div>
  </div>
  <br></br>
  <div align="center">
    <div class='my-legend' align="center">
      <div class='legend-scale' align="center">
        <ul class='legend-labels'>
          <li><span style='background:#C1ECFA;'></span>Healthy</li>
          <li><span style='background:#87CEFA;'></span>Minor</li>
          <li><span style='background:#1E90FF;'></span>Major</li>
          <li><span style='background:#0000CD;'></span>Fatal</li>
        </ul>
      </div>
    </div>
  </div>

    <style type='text/css'>
      .my-legend {
        display: table;   /* Allow the centering to work */
        margin: 0 auto;
      }
      .my-legend .legend-title {
        text-align: left;
        margin-bottom: 8px;
        font-weight: bold;
        font-size: 90%;
        }
      .my-legend .legend-scale ul {
        margin: 0;
        padding: 0;
        float: left;
        list-style: none;
        }
      .my-legend .legend-scale ul li {
        display: block;
        float: left;
        width: 80px;
        margin-bottom: 6px;
        text-align: center;
        font-size: 100%;
        list-style: none;
        }
      .my-legend ul.legend-labels li span {
        display: block;
        float: left;
        height: 15px;
        width: 80px;
        }
      .my-legend .legend-source {
        font-size: 70%;
        color: #999;
        clear: both;
        }
      .my-legend a {
        color: #777;
      }
      ul li {
        display: inline;
      }
    </style>
</div><!-- End Calender Code -->

<!-- Begin Announcement Code -->
 <div class="container col-md-5 column"> 
  <h2 align="center"> Announcements </h2>
  <div id="new-post">  
    <div class="row">
      <label for="new-post-input">Create an Announcement </label>
      <textarea class="form-control" rows="3" id="new-post-input" placeholder="Write a new Announcement "></textarea>
    </div> <!-- End of Textbox -->
    <div class="row">
      <div class= "col col-md-3">
        <select class="form-control gappy" id="post-to">
          <option selected>Waiters</option>
          <option>Chefs</option>
          <option>Cashiers</option>
           <option>All</option>
        </select>
      </div>
      <div class= "col col-md-4"> </div>
      <div class= "col col-md-5" >
        <button type="submit" class="btn btn-primary" id="post-btn">Post Announcement</button>
      </div>
    </div> <!-- End of Footer -->
  </div>  <!-- End of New Post -->

  <div id="all-posts">
      <!-- Sample Post 0 -->
      <div id="post-0" class="announcement">
       <div class="row"> 
        <div class="col col-md-10">

          <div class="row post-person"> Moltres <span class="glyphicon glyphicon-triangle-right " aria-hidden="true"></span>
            <span id="post-to-0">Waiters</span></div> 
          <div class="row post-time"> 3 hrs </div> 
        </div> <!-- To From Stuff --> 
        <div class="col col-md-2 no-side-margin">
          <!--- Delete Button -->
          <button class="btn btn-xs  post-del" id="post-del-btn-0"> <span class="glyphicon glyphicon-remove " aria-hidden="true"></span> </button>
          <!-- Edit Button -->
          <button class="btn btn-xs post-edit" id="post-edit-btn-0"> <span class="glyphicon glyphicon-edit " aria-hidden="true"
          data-toggle="modal" data-target="#postEditModal"></span> </button>

        </div> <!-- End of Edit/ Remove Button Stuff -->
       </div> <!-- End Post Header -->
       <div class="row">
          <div class="col col-md-12 post-details gappy" id="post-details-0"> Happy Hour Today </div>
        </div> <!-- End of Row Containing Text -->
      </div> <!-- End Of Sample Post 0-->



      <!-- Sample Post 1 -->
      <div id="post-1" class="announcement">
       <div class="row"> 
        <div class="col col-md-10">

          <div class="row post-person">Pikashift<span class="glyphicon glyphicon-triangle-right " aria-hidden="true"></span>
            <span id="post-to-1">Moltres</span></div> 
          <div class="row post-time"> 10 hrs </div> 
        </div> <!-- To From Stuff --> 
        <div class="col col-md-2 no-side-margin">
          <!--- Delete Button -->
          <button class="btn btn-xs  post-del" id="post-del-btn-1"> <span class="glyphicon glyphicon-remove " aria-hidden="true"></span> </button>
          <!-- No Edit button for this --> 
        </div> <!-- End of Edit/ Remove Button Stuff -->
       </div> <!-- End Post Header -->
       <div class="row">
          <div class="col col-md-12 post-details gappy" id="post-details-1"> 
             <strong> Restaurant Understaffed </strong> <br> 
              Only 3 waiters out of 6 absentees are covered. 
          </div>
        </div> <!-- End of Row Containing Text -->
      </div> <!-- End Of Sample Post 1-->


      
  </div> <!-- End of All Posts -->
</div>  <!-- End Announcement Code-->


<!--- Edit Post Modal Code --> 

<div class="modal fade" id="postEditModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit Announcement</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

          <div class="row">
            <textarea class="form-control" rows="3" id="edit-post-input" placeholder="Write a new Announcement "></textarea>
          </div> <!-- End of Textbox -->
          
      </div>
      <div class="modal-footer">
        <div class="row">
          <div class= "col col-md-3">
            <select class="form-control gappy" id="edit-post-to">
              <option value="1">Waiters</option>
              <option value="2">Chefs</option>
              <option value="3">Cashiers</option>
               <option  value="4">All</option>
            </select>
          </div>
          <div class= "col col-md-6"> </div>
          <div class= "col col-md-3" >
            <button type="submit" class="btn btn-primary" id="edit-save-btn" data-dismiss="modal" > Save </button>
          </div>
          <!-- No delete button for now 
          <div class= "col col-md-3" >
            <button type="submit" class="btn btn-primary" id="edit-delete-btn" data-dismiss="modal" > Delete </button>
          </div>
          --> 
        </div> <!-- End of Footer -->
      </div>
    </div>
  </div>
</div>

<!-- End Model -->


</body>
</html>
